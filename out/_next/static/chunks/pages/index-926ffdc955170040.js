(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{2858:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return y}}),n(5675);var r=n(9499),i=n(29),c=n(7794),o=n.n(c),a=n(7294),s=n(9521),u=n(5893);function d(e){var t,n,r=e.dateTime,i=e.accountName,c=e.price,o=e.description;return(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)(l,{children:[(0,u.jsxs)("dt",{children:[(0,u.jsx)("span",{children:r.split("-")[1]+"."+r.split("-")[2]}),(0,u.jsx)("strong",{children:Number(c)>0?i:o})]}),(0,u.jsx)("dd",{className:Number(c)>0?"plus":"minus",children:(c>0?"+":"")+c.toString().replace(/\B(?<!\.\d*)(?=(\d{3})+(?!\d))/g,",")})]})})}var l=s.ZP.dl.withConfig({displayName:"AccountItem__AccountCard",componentId:"sc-14iyh17-0"})(["display:flex;position:relative;width:100%;border-top:1px solid #f4f4f4;font-size:1.6rem;transition:0.2s;box-sizing:border-box;&:hover{padding:0 4rem;background-color:#f4f4f4;transform:scale(1.05);}dt{display:flex;padding:2rem;strong{display:inline-block;font-weight:300;}span{display:inline-block;padding-right:1.5rem;font-weight:300;font-size:1.2rem;color:#777;}}dd{flex:1 1;padding:2rem;font-weight:500;text-align:right;&.plus{color:#0a7ec6;}&.minus{color:#000;}}"]),p=n(5503),f=n(6257),m=(0,p.ZF)({apiKey:"AIzaSyAFLpmTF1G4KEzbankxJuEtlaFejmtjQ2c",authDomain:"react-study-56c25.firebaseapp.com",projectId:"react-study-56c25",storageBucket:"react-study-56c25.appspot.com",messagingSenderId:"737294251353",appId:"1:737294251353:web:25617a2e94c6f3658bc848"}),h=(0,f.ad)(m);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function x(){var e,t,n=(0,f.hJ)(h,"userList"),r=(0,a.useState)([]),c=r[0],s=r[1],l=(0,f.hJ)(h,"accountList"),p=(0,a.useState)([]),m=p[0],g=p[1],x=(0,a.useState)("0"),y=x[0],w=x[1],v=(0,a.useState)("0"),k=v[0],O=v[1],N=(e=(0,i.Z)(o().mark(function e(){return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,f.PL)(n).then(function(e){var t=e.docs.map(function(e){return b(b({},e.data()),{},{id:e.id})});s(t),_(t)});case 2:case"end":return e.stop()}},e)})),function(){return e.apply(this,arguments)}),_=(t=(0,i.Z)(o().mark(function e(t){return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,f.PL)(l).then(function(e){var n=e.docs.map(function(e){return b(b({},e.data()),{},{id:e.id})});g(n),S(t,n)});case 2:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)}),P=function(e){return e.toString().replace(/\B(?<!\.\d*)(?=(\d{3})+(?!\d))/g,",")},E=function(e){var t="(이름없음)";return c.forEach(function(n){Number(n.id)===e&&(t=n.userName)}),t.length>2?t.replace(/(?<=.{2})./gi,"*"):t.replace(/(?<=.{1})./gi,"*")},S=function(e,t){var n=0;t.forEach(function(e){return n+=Number(e.calculation)}),w(P(n)),O(P(n/e.length))};return(0,a.useEffect)(function(){N()},[]),(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(j,{children:(0,u.jsxs)("div",{className:"total-price",children:[(0,u.jsx)("strong",{children:y}),(0,u.jsxs)("em",{children:["1/n 정산 :",k]}),(0,u.jsx)("p",{children:c&&c.map(function(e,t){return(0,u.jsx)("span",{style:{backgroundImage:"url(".concat(e.userImg,")")},children:e.userName},t)})})]})}),(0,u.jsx)(j,{children:(0,u.jsx)("ul",{children:m&&m.sort(function(e,t){return new Date(t.dateTime)-new Date(e.dateTime)}).map(function(e,t){return(0,u.jsx)("li",{children:(0,u.jsx)(d,{dateTime:e.dateTime,accountName:E(e.targetId),price:e.calculation,description:e.description})},t)})})})]})}var j=s.ZP.section.withConfig({displayName:"AccountList__SectionBox",componentId:"sc-1qlau21-0"})(["display:block;position:relative;.total-price{padding:5rem 0 7rem;background-color:#ffa5ac;text-align:center;strong{display:inline-block;font-weight:bold;font-size:4rem;color:#111;transition:0.3s;&:after{content:'원';}&:hover{transform:scale(1.1,1.1);}}em{display:block;padding-bottom:1rem;font-size:1.4rem;text-align:center;transition:0.3s;opacity:0.4;&:before{content:'(';}&:after{content:'원)';}&:hover{transform:scale(1.1,1.1);}}span{display:inline-block;width:3.5rem;height:3.5rem;margin-right:-1rem;background-size:100% auto;border-radius:100%;text-indent:-999rem;transition:0.2s;opacity:1;&:last-child{margin-right:0;}&:hover{transform:scale(1.2);}}}"]);function y(){return(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(x,{})})}},5557:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(2858)}])}},function(e){e.O(0,[16,34,774,888,179],function(){return e(e.s=5557)}),_N_E=e.O()}]);